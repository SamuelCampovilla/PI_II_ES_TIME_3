<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Quadro de Notas</title>
  <link rel="stylesheet" href="/frontend/src/styles/pages/students.css">
</head>
<body>
  <div class="layout">

    <!-- Conteúdo Principal -->
    <main class="main">

      <!-- Cabeçalho -->
      <header class="header">
        <div>
          <h1>Algoritmos e Estrutura de Dados</h1>
          <p>Turma A • Quadro de Notas</p>
        </div>
        <hr>
      </header>

     <div class="actions">
        <button id="btnAddAluno" class="primary">+ Adicionar Aluno</button>
        <div id="blurred-bg">
            <div id="pop-up"> 
                <button id="close-pop-up" aria-label="Fechar pop-up"><img src="/frontend/src/assets/images/cancel.png" alt=""></button>
                <div>
                    <h2>Adicionar Aluno</h2>
                    <input type="text" id="ra_aluno" placeholder="Ra do Aluno">
                    <input type="text" id="nome_aluno" placeholder="Nome do Aluno">
                    <button id = "btnAdicionar">Adicionar</button>
                </div>
            </div>
        </div>

        <button id="btnImportar">Importar Alunos</button>
        <!-- Import modal (adicionado) -->
        <div id="import-blurred-bg" class="hidden" aria-hidden="true">
          <div id="import-pop-up" role="dialog" aria-modal="true">
            <button id="import-close" aria-label="Fechar importação"><img src="/frontend/src/assets/images/cancel.png" alt=""></button>
            <div>
              <h2>Importar CSV de Alunos</h2>
              <p>O CSV deve conter colunas com RA e Nome (ex.: ra, nome). Cabeçalhos não sensíveis a maiúsculas.</p>
              <input type="file" id="csvFileInput" accept=".csv,text/csv">
              <div style="margin-top:10px;">
                <button id="btnStartImport">Enviar e Importar</button>
                <button id="btnCancelImport">Cancelar</button>
              </div>
              <div id="import-status" style="margin-top:8px;color:#333"></div>
            </div>
          </div>
        </div>
        <!-- fim import modal -->

        <button>Componentes</button>
        <button>Fórmula</button>
        <span class="status">Modo de Edição: </span>
        <select class="select-option">
          <option>Habilitado</option>
          <option>Desabilitado</option>
        </select>
      </div>
      <!-- Switch -->
      <div class="switch">
        <input type="checkbox" id="ajuste">
        <label for="ajuste">Acrescentar coluna de notas finais ajustadas</label>
      </div>

      <!-- Tabela -->
      <section class="table-container">
        <h2>Notas dos Alunos</h2>
        <table>
          <thead>
            <tr>
              <th>Matrícula</th>
              <th>Nome do Aluno</th>
              <th>P1</th>
              <th>P2</th>
              <th>P3</th>
              <th>Nota Final</th>
              <th>Nota Final Ajustada</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>2021001</td>
              <td>João Silva Santos</td>
              <td>7.5</td>
              <td>8.0</td>
              <td>6.5</td>
              <td class="green">7.3</td>
              <td>7.5</td>
            </tr>
            <tr>
              <td>2021002</td>
              <td>Maria Oliveira Costa</td>
              <td>9.0</td>
              <td>8.5</td>
              <td>9.5</td>
              <td class="green">9.0</td>
              <td>—</td>
            </tr>
            <tr>
              <td>2021003</td>
              <td>Pedro Almeida Lima</td>
              <td>5.0</td>
              <td>6.0</td>
              <td>7.0</td>
              <td class="red">6.0</td>
              <td>6.0</td>
            </tr>
          </tbody>
        </table>
      </section>
    </main>

    <!-- Auditoria -->
    <aside class="audit">
      <h3>Auditoria de Alterações</h3>
      <div class="audit-item">
        <span class="date">23/09/2024 14:30:25</span>
        <p><strong>João Silva Santos</strong></p>
        <p>Nota P1 modificada 7 → 7.5</p>
      </div>
      <div class="audit-item">
        <span class="date">23/09/2024 14:25:10</span>
        <p><strong>Maria Oliveira Costa</strong></p>
        <p>Nota P3 adicionada 9.5</p>
      </div>
    </aside>
  </div>
  <script type="module" src="../../backend/src/students.js"></script>
  <script type="module" src="/frontend/src/js/studentsmodal.js"></script>
</body>
</html>
